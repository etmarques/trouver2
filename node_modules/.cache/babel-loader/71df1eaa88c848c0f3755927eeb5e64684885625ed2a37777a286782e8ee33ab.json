{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _helperPluginUtils = require(\"@babel/helper-plugin-utils\");\nvar _path = require(\"path\");\nvar _core = require(\"@babel/core\");\nvar _default = (0, _helperPluginUtils.declare)(api => {\n  api.assertVersion(7);\n  function addDisplayName(id, call) {\n    const props = call.arguments[0].properties;\n    let safe = true;\n    for (let i = 0; i < props.length; i++) {\n      const prop = props[i];\n      if (_core.types.isSpreadElement(prop)) {\n        continue;\n      }\n      const key = _core.types.toComputedKey(prop);\n      if (_core.types.isStringLiteral(key, {\n        value: \"displayName\"\n      })) {\n        safe = false;\n        break;\n      }\n    }\n    if (safe) {\n      props.unshift(_core.types.objectProperty(_core.types.identifier(\"displayName\"), _core.types.stringLiteral(id)));\n    }\n  }\n  const isCreateClassCallExpression = _core.types.buildMatchMemberExpression(\"React.createClass\");\n  const isCreateClassAddon = callee => _core.types.isIdentifier(callee, {\n    name: \"createReactClass\"\n  });\n  function isCreateClass(node) {\n    if (!node || !_core.types.isCallExpression(node)) return false;\n    if (!isCreateClassCallExpression(node.callee) && !isCreateClassAddon(node.callee)) {\n      return false;\n    }\n    const args = node.arguments;\n    if (args.length !== 1) return false;\n    const first = args[0];\n    if (!_core.types.isObjectExpression(first)) return false;\n    return true;\n  }\n  return {\n    name: \"transform-react-display-name\",\n    visitor: {\n      ExportDefaultDeclaration(_ref, state) {\n        let {\n          node\n        } = _ref;\n        if (isCreateClass(node.declaration)) {\n          const filename = state.filename || \"unknown\";\n          let displayName = _path.basename(filename, _path.extname(filename));\n          if (displayName === \"index\") {\n            displayName = _path.basename(_path.dirname(filename));\n          }\n          addDisplayName(displayName, node.declaration);\n        }\n      },\n      CallExpression(path) {\n        const {\n          node\n        } = path;\n        if (!isCreateClass(node)) return;\n        let id;\n        path.find(function (path) {\n          if (path.isAssignmentExpression()) {\n            id = path.node.left;\n          } else if (path.isObjectProperty()) {\n            id = path.node.key;\n          } else if (path.isVariableDeclarator()) {\n            id = path.node.id;\n          } else if (path.isStatement()) {\n            return true;\n          }\n          if (id) return true;\n        });\n        if (!id) return;\n        if (_core.types.isMemberExpression(id)) {\n          id = id.property;\n        }\n        if (_core.types.isIdentifier(id)) {\n          addDisplayName(id.name, node);\n        }\n      }\n    }\n  };\n});\nexports.default = _default;","map":{"version":3,"names":["_helperPluginUtils","require","_path","_core","_default","declare","api","assertVersion","addDisplayName","id","call","props","arguments","properties","safe","i","length","prop","types","isSpreadElement","key","toComputedKey","isStringLiteral","value","unshift","objectProperty","identifier","stringLiteral","isCreateClassCallExpression","buildMatchMemberExpression","isCreateClassAddon","callee","isIdentifier","name","isCreateClass","node","isCallExpression","args","first","isObjectExpression","visitor","ExportDefaultDeclaration","_ref","state","declaration","filename","displayName","basename","extname","dirname","CallExpression","path","find","isAssignmentExpression","left","isObjectProperty","isVariableDeclarator","isStatement","isMemberExpression","property","exports","default"],"sources":["C:\\Users\\AGU\\Documents\\trouver2\\node_modules\\@babel\\plugin-transform-react-display-name\\src\\index.ts"],"sourcesContent":["import { declare } from \"@babel/helper-plugin-utils\";\nimport path from \"path\";\nimport { types as t } from \"@babel/core\";\n\ntype ReactCreateClassCall = t.CallExpression & {\n  arguments: [t.ObjectExpression];\n};\n\nexport default declare(api => {\n  api.assertVersion(7);\n\n  function addDisplayName(id: string, call: ReactCreateClassCall) {\n    const props = call.arguments[0].properties;\n    let safe = true;\n\n    for (let i = 0; i < props.length; i++) {\n      const prop = props[i];\n      if (t.isSpreadElement(prop)) {\n        continue;\n      }\n      const key = t.toComputedKey(prop);\n      if (t.isStringLiteral(key, { value: \"displayName\" })) {\n        safe = false;\n        break;\n      }\n    }\n\n    if (safe) {\n      props.unshift(\n        t.objectProperty(t.identifier(\"displayName\"), t.stringLiteral(id)),\n      );\n    }\n  }\n\n  const isCreateClassCallExpression =\n    t.buildMatchMemberExpression(\"React.createClass\");\n  const isCreateClassAddon = (callee: t.CallExpression[\"callee\"]) =>\n    t.isIdentifier(callee, { name: \"createReactClass\" });\n\n  function isCreateClass(node?: t.Node): node is ReactCreateClassCall {\n    if (!node || !t.isCallExpression(node)) return false;\n\n    // not createReactClass nor React.createClass call member object\n    if (\n      !isCreateClassCallExpression(node.callee) &&\n      !isCreateClassAddon(node.callee)\n    ) {\n      return false;\n    }\n\n    // no call arguments\n    const args = node.arguments;\n    if (args.length !== 1) return false;\n\n    // first node arg is not an object\n    const first = args[0];\n    if (!t.isObjectExpression(first)) return false;\n\n    return true;\n  }\n\n  return {\n    name: \"transform-react-display-name\",\n\n    visitor: {\n      ExportDefaultDeclaration({ node }, state) {\n        if (isCreateClass(node.declaration)) {\n          const filename = state.filename || \"unknown\";\n\n          let displayName = path.basename(filename, path.extname(filename));\n\n          // ./{module name}/index.js\n          if (displayName === \"index\") {\n            displayName = path.basename(path.dirname(filename));\n          }\n\n          addDisplayName(displayName, node.declaration);\n        }\n      },\n\n      CallExpression(path) {\n        const { node } = path;\n        if (!isCreateClass(node)) return;\n\n        let id: t.LVal | t.Expression | t.PrivateName | null;\n\n        // crawl up the ancestry looking for possible candidates for displayName inference\n        path.find(function (path) {\n          if (path.isAssignmentExpression()) {\n            id = path.node.left;\n          } else if (path.isObjectProperty()) {\n            id = path.node.key;\n          } else if (path.isVariableDeclarator()) {\n            id = path.node.id;\n          } else if (path.isStatement()) {\n            // we've hit a statement, we should stop crawling up\n            return true;\n          }\n\n          // we've got an id! no need to continue\n          if (id) return true;\n        });\n\n        // ensure that we have an identifier we can inherit from\n        if (!id) return;\n\n        // foo.bar -> bar\n        if (t.isMemberExpression(id)) {\n          id = id.property;\n        }\n\n        // identifiers are the only thing we can reliably get a name from\n        if (t.isIdentifier(id)) {\n          addDisplayName(id.name, node);\n        }\n      },\n    },\n  };\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}