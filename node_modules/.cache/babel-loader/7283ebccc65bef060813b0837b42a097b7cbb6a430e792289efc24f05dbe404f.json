{"ast":null,"code":"'use strict';\n\nconst {\n  visit\n} = require('../lib/xast.js');\nexports.name = 'cleanupEnableBackground';\nexports.description = 'remove or cleanup enable-background attribute when possible';\n\n/**\n * Remove or cleanup enable-background attr which coincides with a width/height box.\n *\n * @see https://www.w3.org/TR/SVG11/filters.html#EnableBackgroundProperty\n *\n * @example\n * <svg width=\"100\" height=\"50\" enable-background=\"new 0 0 100 50\">\n *             ⬇\n * <svg width=\"100\" height=\"50\">\n *\n * @author Kir Belevich\n *\n * @type {import('./plugins-types').Plugin<'cleanupEnableBackground'>}\n */\nexports.fn = root => {\n  const regEnableBackground = /^new\\s0\\s0\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)$/;\n  let hasFilter = false;\n  visit(root, {\n    element: {\n      enter: node => {\n        if (node.name === 'filter') {\n          hasFilter = true;\n        }\n      }\n    }\n  });\n  return {\n    element: {\n      enter: node => {\n        if (node.attributes['enable-background'] == null) {\n          return;\n        }\n        if (hasFilter) {\n          if ((node.name === 'svg' || node.name === 'mask' || node.name === 'pattern') && node.attributes.width != null && node.attributes.height != null) {\n            const match = node.attributes['enable-background'].match(regEnableBackground);\n            if (match != null && node.attributes.width === match[1] && node.attributes.height === match[3]) {\n              if (node.name === 'svg') {\n                delete node.attributes['enable-background'];\n              } else {\n                node.attributes['enable-background'] = 'new';\n              }\n            }\n          }\n        } else {\n          //we don't need 'enable-background' if we have no filters\n          delete node.attributes['enable-background'];\n        }\n      }\n    }\n  };\n};","map":{"version":3,"names":["visit","require","exports","name","description","fn","root","regEnableBackground","hasFilter","element","enter","node","attributes","width","height","match"],"sources":["C:/Users/AGU/Documents/trouver2/node_modules/svgo/plugins/cleanupEnableBackground.js"],"sourcesContent":["'use strict';\n\nconst { visit } = require('../lib/xast.js');\n\nexports.name = 'cleanupEnableBackground';\nexports.description =\n  'remove or cleanup enable-background attribute when possible';\n\n/**\n * Remove or cleanup enable-background attr which coincides with a width/height box.\n *\n * @see https://www.w3.org/TR/SVG11/filters.html#EnableBackgroundProperty\n *\n * @example\n * <svg width=\"100\" height=\"50\" enable-background=\"new 0 0 100 50\">\n *             ⬇\n * <svg width=\"100\" height=\"50\">\n *\n * @author Kir Belevich\n *\n * @type {import('./plugins-types').Plugin<'cleanupEnableBackground'>}\n */\nexports.fn = (root) => {\n  const regEnableBackground =\n    /^new\\s0\\s0\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)$/;\n\n  let hasFilter = false;\n  visit(root, {\n    element: {\n      enter: (node) => {\n        if (node.name === 'filter') {\n          hasFilter = true;\n        }\n      },\n    },\n  });\n\n  return {\n    element: {\n      enter: (node) => {\n        if (node.attributes['enable-background'] == null) {\n          return;\n        }\n        if (hasFilter) {\n          if (\n            (node.name === 'svg' ||\n              node.name === 'mask' ||\n              node.name === 'pattern') &&\n            node.attributes.width != null &&\n            node.attributes.height != null\n          ) {\n            const match =\n              node.attributes['enable-background'].match(regEnableBackground);\n            if (\n              match != null &&\n              node.attributes.width === match[1] &&\n              node.attributes.height === match[3]\n            ) {\n              if (node.name === 'svg') {\n                delete node.attributes['enable-background'];\n              } else {\n                node.attributes['enable-background'] = 'new';\n              }\n            }\n          }\n        } else {\n          //we don't need 'enable-background' if we have no filters\n          delete node.attributes['enable-background'];\n        }\n      },\n    },\n  };\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAE3CC,OAAO,CAACC,IAAI,GAAG,yBAAyB;AACxCD,OAAO,CAACE,WAAW,GACjB,6DAA6D;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,OAAO,CAACG,EAAE,GAAIC,IAAI,IAAK;EACrB,MAAMC,mBAAmB,GACvB,+EAA+E;EAEjF,IAAIC,SAAS,GAAG,KAAK;EACrBR,KAAK,CAACM,IAAI,EAAE;IACVG,OAAO,EAAE;MACPC,KAAK,EAAGC,IAAI,IAAK;QACf,IAAIA,IAAI,CAACR,IAAI,KAAK,QAAQ,EAAE;UAC1BK,SAAS,GAAG,IAAI;QAClB;MACF;IACF;EACF,CAAC,CAAC;EAEF,OAAO;IACLC,OAAO,EAAE;MACPC,KAAK,EAAGC,IAAI,IAAK;QACf,IAAIA,IAAI,CAACC,UAAU,CAAC,mBAAmB,CAAC,IAAI,IAAI,EAAE;UAChD;QACF;QACA,IAAIJ,SAAS,EAAE;UACb,IACE,CAACG,IAAI,CAACR,IAAI,KAAK,KAAK,IAClBQ,IAAI,CAACR,IAAI,KAAK,MAAM,IACpBQ,IAAI,CAACR,IAAI,KAAK,SAAS,KACzBQ,IAAI,CAACC,UAAU,CAACC,KAAK,IAAI,IAAI,IAC7BF,IAAI,CAACC,UAAU,CAACE,MAAM,IAAI,IAAI,EAC9B;YACA,MAAMC,KAAK,GACTJ,IAAI,CAACC,UAAU,CAAC,mBAAmB,CAAC,CAACG,KAAK,CAACR,mBAAmB,CAAC;YACjE,IACEQ,KAAK,IAAI,IAAI,IACbJ,IAAI,CAACC,UAAU,CAACC,KAAK,KAAKE,KAAK,CAAC,CAAC,CAAC,IAClCJ,IAAI,CAACC,UAAU,CAACE,MAAM,KAAKC,KAAK,CAAC,CAAC,CAAC,EACnC;cACA,IAAIJ,IAAI,CAACR,IAAI,KAAK,KAAK,EAAE;gBACvB,OAAOQ,IAAI,CAACC,UAAU,CAAC,mBAAmB,CAAC;cAC7C,CAAC,MAAM;gBACLD,IAAI,CAACC,UAAU,CAAC,mBAAmB,CAAC,GAAG,KAAK;cAC9C;YACF;UACF;QACF,CAAC,MAAM;UACL;UACA,OAAOD,IAAI,CAACC,UAAU,CAAC,mBAAmB,CAAC;QAC7C;MACF;IACF;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}